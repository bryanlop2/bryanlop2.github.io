{"ast":null,"code":"import { getPokemonImageUri } from '../utils/values';\nimport { pokemonTypeColorMap } from '../utils/pokemonColorHash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../pokedex.service\";\nimport * as i3 from \"@angular/router\";\n\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\n\nfunction PokemonProfileComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"u\", 15);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Type-\", i_r4 + 1, \": \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, ctx_r0.getTypesColors(ctx_r0.fields.types[i_r4].type.name)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.fields.types[i_r4].type.name);\n  }\n}\n\nfunction PokemonProfileComponent_dd_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"dd\")(1, \"span\", 16)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"percentage percentage-\", ctx_r1.fields.stats[i_r6].base_stat, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.fields.stats[i_r6].stat.name, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.fields.stats[i_r6].base_stat);\n  }\n}\n\nfunction PokemonProfileComponent_div_32_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n}\n\nfunction PokemonProfileComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"img\", 17);\n    i0.ɵɵlistener(\"click\", function PokemonProfileComponent_div_32_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const i_r8 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.goToPokemonProfile(ctx_r10.pokemon.evolutions[i_r8].id);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, PokemonProfileComponent_div_32_img_2_Template, 1, 0, \"img\", 18);\n    i0.ɵɵelementStart(3, \"h4\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const i_r8 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r2.pokemon.evolutions[i_r8].image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r2.pokemon.evolutions[i_r8].name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r8 < ctx_r2.pokemon.evolutions.length - 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.pokemon.evolutions[i_r8].name, \" #\", ctx_r2.pokemon.evolutions[i_r8].id, \"\");\n  }\n}\n\nexport let PokemonProfileComponent = /*#__PURE__*/(() => {\n  class PokemonProfileComponent {\n    constructor(location, pokedexService, route, router) {\n      this.location = location;\n      this.pokedexService = pokedexService;\n      this.route = route;\n      this.router = router;\n      this.fields = [];\n      this.profile = [];\n      this.pokemon = [];\n      this.id = 0;\n    }\n\n    ngOnInit() {\n      this.id = this.route.snapshot.paramMap.get('id');\n      this.getInfoForFields();\n      this.getEvolutionChain();\n      this.getSpecies();\n    }\n\n    goBack() {\n      this.location.back();\n    }\n\n    getInfoForFields() {\n      this.pokedexService.getPokemonDetails(this.id).subscribe(details => {\n        this.fields = details;\n      });\n    }\n\n    getSpecies() {\n      this.pokedexService.getPokemonSpecies(this.id).subscribe(species => {\n        this.species = species;\n      });\n    }\n\n    getNumbers() {\n      return ('00' + this.id).slice(-3);\n    }\n\n    getEvolutionChain() {\n      this.pokemon.evolutions = [];\n      this.pokedexService.getPokemonSpecies(this.id).subscribe(response => {\n        const id = this.getId(response.evolution_chain.url);\n        this.pokedexService.getPokemonEvolutiontree(id).subscribe(response => this.getEvolves(response.chain));\n      });\n    }\n\n    getEvolves(chain) {\n      this.pokemon.evolutions.push({\n        id: this.getId(chain.species.url),\n        name: chain.species.name,\n        image: this.getImages(chain.species.url)\n      });\n\n      if (chain.evolves_to.length) {\n        this.getEvolves(chain.evolves_to[0]);\n      }\n    }\n\n    getId(url) {\n      const splitUrl = url.split('/');\n      return +splitUrl[splitUrl.length - 2];\n    }\n\n    getImages(pokemon) {\n      if (pokemon) return getPokemonImageUri(this.getId(pokemon));else return null;\n    }\n\n    goToPokemonProfile(id) {\n      this.router.navigateByUrl(`/pokedex/${id}`);\n      this.id = id;\n      this.getInfoForFields();\n      this.getEvolutionChain();\n      this.getSpecies();\n    }\n\n    getTypesColors(type) {\n      let color;\n      const mainColors = Object.values(pokemonTypeColorMap);\n      if (type) color = mainColors[this.getColorIndex(type)];\n      return color;\n    }\n\n    getColorIndex(color) {\n      const colors = Object.keys(pokemonTypeColorMap);\n      const index = colors.findIndex(param => param === color);\n      return index;\n    }\n\n  }\n\n  PokemonProfileComponent.ɵfac = function PokemonProfileComponent_Factory(t) {\n    return new (t || PokemonProfileComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.PokedexService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  PokemonProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PokemonProfileComponent,\n    selectors: [[\"pokemon-profile-card\"]],\n    decls: 33,\n    vars: 10,\n    consts: [[\"routerLink\", \"/pokedex\", 1, \"button\"], [\"width\", \"20\", \"height\", \"20\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\"], [\"d\", \"M10 19l-7-7m0 0l7-7m-7 7h18\"], [1, \"pokemon-container\"], [\"id\", \"container\"], [1, \"pokemon-image\"], [3, \"src\", \"alt\"], [1, \"pokemon-details\"], [1, \"pokemon-title\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pokemon-stats\"], [1, \"border\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [1, \"pokemon-evolution-title\"], [1, \"pokemon-evolution\"], [1, \"type-text\", 3, \"ngStyle\"], [1, \"stats-text\"], [1, \"pokemon-rounded\", 3, \"src\", \"alt\", \"click\"], [\"class\", \"pokemon-arrow\", \"src\", \"../../../assets/angle-right-solid.svg\", \"height\", \"60\", 4, \"ngIf\"], [1, \"pokemon-name\"], [\"src\", \"../../../assets/angle-right-solid.svg\", \"height\", \"60\", 1, \"pokemon-arrow\"]],\n    template: function PokemonProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(1, \"svg\", 1);\n        i0.ɵɵelement(2, \"path\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(3, \" Go back\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5);\n        i0.ɵɵelement(7, \"img\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"h2\", 8);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ul\");\n        i0.ɵɵtemplate(12, PokemonProfileComponent_li_12_Template, 5, 5, \"li\", 9);\n        i0.ɵɵelementStart(13, \"li\")(14, \"strong\");\n        i0.ɵɵtext(15, \"Height: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"li\")(18, \"strong\");\n        i0.ɵɵtext(19, \"Weight: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"li\")(22, \"strong\");\n        i0.ɵɵtext(23, \"Description: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(25, \"div\", 10)(26, \"dl\", 11);\n        i0.ɵɵtemplate(27, PokemonProfileComponent_dd_27_Template, 5, 5, \"dd\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\")(29, \"h4\", 13);\n        i0.ɵɵtext(30, \"EVOLUTIONS\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 14);\n        i0.ɵɵtemplate(32, PokemonProfileComponent_div_32_Template, 5, 5, \"div\", 9);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.fields.sprites == null ? null : ctx.fields.sprites.other.dream_world.front_default, i0.ɵɵsanitizeUrl);\n        i0.ɵɵpropertyInterpolate(\"alt\", ctx.fields.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", ctx.fields.name, \" #\", ctx.getNumbers(), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fields.types);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", ctx.fields.height, \"\\\"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"\", ctx.fields.weight, \" lbs\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.species == null ? null : ctx.species.flavor_text_entries[0].flavor_text);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.fields.stats);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.pokemon.evolutions);\n      }\n    },\n    directives: [i3.RouterLink, i1.NgForOf, i1.NgStyle, i1.NgIf],\n    styles: [\"@charset \\\"UTF-8\\\";.pokemon-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#container[_ngcontent-%COMP%]{box-shadow:0 10px 10px 1px gray;border-radius:5px;height:348px;width:700px;overflow:hidden}.pokemon-details[_ngcontent-%COMP%]{position:relative;text-align:left;padding:52px;height:70%;float:right;width:40%;background:#082040;font-size:105%;color:#fff}.pokemon-title[_ngcontent-%COMP%]{text-transform:uppercase}.pokemon-image[_ngcontent-%COMP%]{display:inline-block;position:relative;height:100%;width:45%}#container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}li[_ngcontent-%COMP%]{list-style:\\\"\\\\25d3  \\\"}.button[_ngcontent-%COMP%]{font-size:16px;text-transform:uppercase;color:#fff;border-radius:5px;background-color:#082040;padding:10px;cursor:pointer;margin-top:20px}.pokemon-generation[_ngcontent-%COMP%]{text-transform:uppercase;color:#082040;position:absolute;right:6px;font-size:105%;top:4px}.pokemon-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.border[_ngcontent-%COMP%]{box-shadow:0 10px 10px 1px gray;border-radius:5px}dl[_ngcontent-%COMP%]{display:flex;background-color:#fff;flex-direction:column;width:100%;max-width:700px;position:relative;padding:20px}dt[_ngcontent-%COMP%]{align-self:flex-start;width:100%;display:block;text-align:center;font-size:1.2em;font-weight:700;margin-bottom:20px;margin-left:130px}.stats-text[_ngcontent-%COMP%]{font-size:small;display:flex;align-items:center;height:40px;width:146px;position:absolute;left:0;justify-content:flex-end}.percentage[_ngcontent-%COMP%]{text-transform:uppercase;width:82%;height:40px;margin-left:134px;background:repeating-linear-gradient(to right,#ddd,#ddd 1px,#fff 1px,#fff 5%)}.percentage[_ngcontent-%COMP%]:after{content:\\\"\\\";display:block;background-color:#082040;margin-bottom:10px;height:90%;position:relative;top:50%;transform:translateY(-50%);cursor:pointer}.pokemon-evolution[_ngcontent-%COMP%], .pokemon-evolution-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pokemon-evolution-container[_ngcontent-%COMP%]{box-shadow:0 10px 10px 1px gray;border-radius:5px;height:348px;width:700px;margin-bottom:20px}.pokemon-rounded[_ngcontent-%COMP%]{border:#082040 solid 2px;border-radius:50%;cursor:pointer}.pokemon-arrow[_ngcontent-%COMP%]{justify-content:center;align-items:center;margin-bottom:30%}.pokemon-name[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-transform:uppercase}.type-text[_ngcontent-%COMP%]{padding-right:4px;padding-left:4px;border-radius:4px}\"]\n  });\n  return PokemonProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}